From 3967fcac8ffbc91f259710eac6abdb2af3daeae3 Mon Sep 17 00:00:00 2001
From: Graham Crowe <graham.crowe@ericsson.com>
Date: Wed, 27 May 2015 10:24:25 +0200
Subject: [PATCH 1/2] Generate hello.boot file

---
 configure.ac      |  1 +
 src/hello.app.src | 10 +++++-----
 sys/.gitignore    |  2 ++
 sys/hello.rel.in  |  1 +
 4 files changed, 9 insertions(+), 5 deletions(-)

diff --git a/configure.ac b/configure.ac
index f97a82b..f2ed63f 100644
--- a/configure.ac
+++ b/configure.ac
@@ -12,6 +12,7 @@ AC_ERLANG_NEED_ERLC
 AC_ERLANG_NEED_ERL
 AC_ERLANG_SUBST_ERTS_VER
 AC_ERLANG_CHECK_LIB([kernel],[],[])
+AC_ERLANG_CHECK_LIB([stdlib],[],[])
 
 # Checks for header files.
 
diff --git a/src/hello.app.src b/src/hello.app.src
index 95f11ea..1b9b95e 100644
--- a/src/hello.app.src
+++ b/src/hello.app.src
@@ -1,9 +1,9 @@
-{application,mlcc,
- [{description,"The mlcc application"},
+{application, hello,
+ [{description,"The hello application"},
   {vsn, "&VSN&"},
-  {mod,{hello,[]}},
-  {modules, 'hello'},
+  {mod, {hello,[]}},
+  {modules, ['hello']},
   {registered, []},
-  {applications,[kernel]},
+  {applications, [kernel, stdlib]},
   {env, []}
  ]}.
diff --git a/sys/.gitignore b/sys/.gitignore
index ed429f3..0cf2825 100644
--- a/sys/.gitignore
+++ b/sys/.gitignore
@@ -1,3 +1,5 @@
 hello.rel
 hello.start
 hello.stop
+hello.script
+hello.boot
diff --git a/sys/hello.rel.in b/sys/hello.rel.in
index 20910c8..2c39589 100644
--- a/sys/hello.rel.in
+++ b/sys/hello.rel.in
@@ -2,6 +2,7 @@
  {erts, "@ERLANG_ERTS_VER@"},
  [
   {kernel, "@ERLANG_LIB_VER_kernel@"},
+  {stdlib, "@ERLANG_LIB_VER_stdlib@"},
   {hello, "@HELLO_VSN@"}
  ]
 }.
-- 
1.9.1

